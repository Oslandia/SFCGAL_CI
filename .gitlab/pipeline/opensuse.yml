opensuse_gcc:
  stage: test
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: always
  image: opensuse/tumbleweed

  script:
    - ./ci/opensuse/before_install.sh
    - cmake -S . -B build -DSFCGAL_BUILD_TESTS=ON -GNinja
    - cmake --build build -j$(nproc)
    - ctest --test-dir build --output-on-failure
